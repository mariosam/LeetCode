/**
 * @version JAVASCRIPT ECMAScript 6
 * @author MARIO SAM <eu@mariosam.com.br>
 * @see I would love to work with you instead solving web code tests: hire me!
 */

/**
 * @param {number[][]} points
 * @return {number}
 */
function countTrapezoids(points) {
    const MOD = 1000000007n;

    // conta pontos por coordenada Y (usamos Number para contagem, OK)
    const cnt = new Map();
    for (const p of points) {
        const y = p[1];
        cnt.set(y, (cnt.get(y) || 0) + 1);
    }

    let ans = 0n;
    let s = 0n;

    for (const v of cnt.values()) {
        const vb = BigInt(v);
        // número de pares entre v pontos: v * (v - 1) / 2 (em BigInt)
        const t = (vb * (vb - 1n)) / 2n;

        // acumula com módulo usando BigInt
        ans = (ans + (s * t) % MOD) % MOD;
        s = (s + t) % MOD;
    }

    // converter para Number é seguro: resultado < MOD
    return Number(ans);
}
export { countTrapezoids }
